# Sub-flow: Adjust handicap indexes for players with overrides
# Expects: Game settings screen with course/tee selected
# Provides: Handicap indexes adjusted, ready to assign teams or start game

appId: golf.spicy
platform:
  ios:
    snapshotKeyHonorModalViews: false
---

- extendedWaitUntil:
    visible:
      id: "handicap-adjustment-brad"
    timeout: 3000

- tapOn:
    id: "handicap-adjustment-brad"

- waitForAnimationToEnd:
    timeout: 1000

- longPressOn:
    id: "handicap-index-input"

- tapOn: "Select All"

- inputText: "5.1"

- tapOn:
    id: "nav-back-button"

- waitForAnimationToEnd:
    timeout: 500

- extendedWaitUntil:
    visible:
      id: "handicap-adjustment-brad-shots"
    timeout: 3000

- assertVisible:
    id: "handicap-adjustment-brad-shots"
    text: "7"

- assertVisible:
    id: "handicap-adjustment-scott-shots"
    text: "6"

- assertVisible:
    id: "handicap-adjustment-tim-shots"
    text: "0"

- assertVisible:
    id: "handicap-adjustment-eric-shots"
    text: "16"
