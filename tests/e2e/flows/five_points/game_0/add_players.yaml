# Sub-flow: Add 3 guest players (Scott, Tim, Eric)
# Expects: Game settings screen, logged-in player already added automatically
# Provides: 4 players total, ready to start game

appId: golf.spicy
---
# === Add Player: Scott ===
- tapOn: "Add Player"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn: "Manual"

- waitForAnimationToEnd:
    timeout: 1000

- tapOn:
    id: "manual-player-name-input"

- inputText: "Scott"

- tapOn:
    id: "manual-player-short-input"

- inputText: "Scott"

- tapOn:
    id: "manual-player-handicap-input"

- inputText: "4.1"

- hideKeyboard

- tapOn:
    id: "manual-player-submit-button"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    id: "nav-back-button"

- waitForAnimationToEnd:
    timeout: 1000

# === Add Player: Tim ===
- tapOn: "Add Player"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn: "Manual"

- waitForAnimationToEnd:
    timeout: 1000

- tapOn:
    id: "manual-player-name-input"

- inputText: "Tim"

- tapOn:
    id: "manual-player-short-input"

- inputText: "Tim"

- tapOn:
    id: "manual-player-handicap-input"

- inputText: "+0.9"

- hideKeyboard

- tapOn:
    id: "manual-player-submit-button"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    id: "nav-back-button"

- waitForAnimationToEnd:
    timeout: 1000

# === Add Player: Eric ===
- tapOn: "Add Player"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn: "Manual"

- waitForAnimationToEnd:
    timeout: 1000

- tapOn:
    id: "manual-player-name-input"

- inputText: "Eric"

- tapOn:
    id: "manual-player-short-input"

- inputText: "Eric"

- tapOn:
    id: "manual-player-handicap-input"

- inputText: "12.9"

- hideKeyboard

- tapOn:
    id: "manual-player-submit-button"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    id: "nav-back-button"

- waitForAnimationToEnd:
    timeout: 1000

# === Select/Create Round for Brad ===
- runFlow:
    when:
      visible:
        id: "select-round-brad"
    commands:
      - tapOn:
          id: "select-round-brad"
      - waitForAnimationToEnd:
          timeout: 2000
      - tapOn:
          id: "create-new-round-button"
      - waitForAnimationToEnd:
          timeout: 2000

# === Select Course/Tee (Manual Entry) ===
- tapOn:
    id: "select-course-tee-brad"

- waitForAnimationToEnd:
    timeout: 2000

- tapOn: "Manual"

- waitForAnimationToEnd:
    timeout: 1000

- tapOn:
    id: "manual-course-name-input"

- inputText: "Druid Hills Golf Club"

- tapOn:
    id: "manual-course-tee-input"

- inputText: "Blue"

- hideKeyboard

- tapOn:
    id: "manual-course-next-button"

- waitForAnimationToEnd:
    timeout: 2000

# === Enter Hole Details (Par & Handicap) ===
# Druid Hills Golf Club - Blue Tees
# Par defaults to 4, Handicap starts empty (user must fill in all)
# Format: Hole X: Par Y, Hdcp Z

# Hole 1: Par 4 (default), Hdcp 3
- tapOn:
    id: "hole-1-handicap"
- inputText: "3"

# Hole 2: Par 4 (default), Hdcp 7
- tapOn:
    id: "hole-2-handicap"
- inputText: "7"

# Hole 3: Par 4 (default), Hdcp 15
- tapOn:
    id: "hole-3-handicap"
- inputText: "15"

# Hole 4: Par 4 (default), Hdcp 1
- tapOn:
    id: "hole-4-handicap"
- inputText: "1"

# Hole 5: Par 4 (default), Hdcp 5
- tapOn:
    id: "hole-5-handicap"
- inputText: "5"

# Hole 6: Par 3, Hdcp 17
- tapOn:
    id: "hole-6-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^3$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-6-handicap"
- inputText: "17"

# Hole 7: Par 5, Hdcp 11
- tapOn:
    id: "hole-7-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^5$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-7-handicap"
- inputText: "11"

# Hole 8: Par 3, Hdcp 9
- tapOn:
    id: "hole-8-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^3$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-8-handicap"
- inputText: "9"

# Hole 9: Par 5, Hdcp 13
- tapOn:
    id: "hole-9-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^5$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-9-handicap"
- inputText: "13"

# Hole 10: Par 4 (default), Hdcp 2
- tapOn:
    id: "hole-10-handicap"
- inputText: "2"

# Hole 11: Par 4 (default), Hdcp 6
- tapOn:
    id: "hole-11-handicap"
- inputText: "6"

# Hole 12: Par 4 (default), Hdcp 12
- tapOn:
    id: "hole-12-handicap"
- inputText: "12"

# Hole 13: Par 3, Hdcp 18
- tapOn:
    id: "hole-13-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^3$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-13-handicap"
- inputText: "18"

# Hole 14: Par 5, Hdcp 10
- tapOn:
    id: "hole-14-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^5$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-14-handicap"
- inputText: "10"

# Hole 15: Par 4 (default), Hdcp 4
- tapOn:
    id: "hole-15-handicap"
- inputText: "4"

# Hole 16: Par 4 (default), Hdcp 16
- tapOn:
    id: "hole-16-handicap"
- inputText: "16"

# Hole 17: Par 3, Hdcp 14
- tapOn:
    id: "hole-17-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^3$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-17-handicap"
- inputText: "14"

# Hole 18: Par 5, Hdcp 8
- tapOn:
    id: "hole-18-par"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    text: "^5$"
- waitForAnimationToEnd:
    timeout: 500
- tapOn:
    id: "hole-18-handicap"
- inputText: "8"

- hideKeyboard

# === Save Course & Tee ===
- tapOn:
    id: "manual-course-save-button"

- waitForAnimationToEnd:
    timeout: 3000
