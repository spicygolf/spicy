# Five Points - Basic Game E2E Test
# Tests login, game creation, and basic navigation

appId: golf.spicy
---
# ===== AUTHENTICATION =====
# Log in with the test account passphrase

- launchApp:
    clearState: true

# Wait for app to fully launch and initialize
- waitForAnimationToEnd:
    timeout: 10000

# Take screenshot to debug what's on screen
- takeScreenshot: after_launch

# Wait for auth screen to load (app may show loading screen briefly during init)
# Increase timeout to 60s to account for slow emulators and bundle loading
- extendedWaitUntil:
    visible: "Spicy Golf"
    timeout: 60000

# Log in with test passphrase
# Use testID for reliable element finding across platforms
- tapOn:
    id: "login-button"
- tapOn:
    text: "(?i)Enter your passphrase"
- inputText: "${TEST_PASSPHRASE}"
- hideKeyboard
- tapOn:
    id: "login-submit-button"

# Wait for login to complete
- extendedWaitUntil:
    visible: "New Game"
    timeout: 10000

# ===== CREATE GAME =====

- tapOn: "New Game"

# Switch to Search tab to find Five Points
- tapOn:
    text: "Search"
- waitForAnimationToEnd

# Wait for specs to load from API
- extendedWaitUntil:
    visible:
      id: "spec-five-points"
    timeout: 15000

- tapOn:
    id: "spec-five-points"
# ===== VERIFICATION =====
# At this point we have:
# 1. Successfully logged in
# 2. Created a Five Points game
# 3. Navigated to the game screen
